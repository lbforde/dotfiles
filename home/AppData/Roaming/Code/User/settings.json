{
  // ─── Theme & Appearance ──────────────────────────────────────────────────────
  "workbench.colorTheme": "One for all darker",
  "workbench.iconTheme": "vscode-icons",
  "editor.fontFamily": "'JetBrainsMono Nerd Font', 'JetBrains Mono', 'Cascadia Code', Consolas, monospace",
  "editor.fontSize": 13,
  "editor.lineHeight": 1.6,
  "editor.fontLigatures": true,
  "editor.fontWeight": "500",
  "terminal.integrated.fontFamily": "'JetBrainsMono Nerd Font', 'JetBrains Mono', monospace",
  "terminal.integrated.fontSize": 13,

  // ─── Editor Behaviour ────────────────────────────────────────────────────────
  "editor.tabSize": 2,
  "editor.insertSpaces": true,
  "editor.detectIndentation": true,
  "editor.wordWrap": "off",
  "editor.rulers": [80, 120],
  "editor.renderWhitespace": "boundary",
  "editor.minimap.enabled": false,
  "editor.smoothScrolling": true,
  "editor.cursorBlinking": "smooth",
  "editor.cursorSmoothCaretAnimation": "on",
  "editor.bracketPairColorization.enabled": true,
  "editor.guides.bracketPairs": "active",
  "editor.stickyScroll.enabled": true,
  "editor.inlayHints.enabled": "on",
  "editor.linkedEditing": true,
  "editor.formatOnSave": true,
  "editor.formatOnPaste": false,
  "editor.codeActionsOnSave": {
    "source.fixAll.eslint": "explicit",
    "source.organizeImports": "never"
  },

  // ─── Formatting ──────────────────────────────────────────────────────────────
  "editor.defaultFormatter": "esbenp.prettier-vscode",
  "[python]": {
    "editor.defaultFormatter": "charliermarsh.ruff",
    "editor.formatOnSave": true,
    "editor.codeActionsOnSave": {
      "source.fixAll.ruff": "explicit",
      "source.organizeImports.ruff": "explicit"
    }
  },
  "[rust]": {
    "editor.defaultFormatter": "rust-lang.rust-analyzer",
    "editor.formatOnSave": true
  },
  "[go]": {
    "editor.defaultFormatter": "golang.go",
    "editor.formatOnSave": true,
    "editor.codeActionsOnSave": {
      "source.organizeImports": "explicit"
    }
  },
  "[toml]": {
    "editor.defaultFormatter": "tamasfe.even-better-toml"
  },
  "[lua]": {
    "editor.defaultFormatter": "sumneko.lua"
  },
  "[yaml]": {
    "editor.defaultFormatter": "redhat.vscode-yaml"
  },
  "[powershell]": {
    "editor.defaultFormatter": "ms-vscode.powershell"
  },

  // ─── Files ───────────────────────────────────────────────────────────────────
  "files.autoSave": "onFocusChange",
  "files.trimTrailingWhitespace": true,
  "files.trimFinalNewlines": false,
  "files.insertFinalNewline": true,
  "files.exclude": {
    "**/.git": true,
    "**/node_modules": true,
    "**/__pycache__": true,
    "**/.ruff_cache": true,
    "**/target": false
  },

  // ─── Explorer ────────────────────────────────────────────────────────────────
  "explorer.compactFolders": false,
  "explorer.confirmDelete": false,
  "explorer.confirmDragAndDrop": false,

  // ─── Terminal ────────────────────────────────────────────────────────────────
  // Use the pwsh profile from our setup
  "terminal.integrated.defaultProfile.windows": "PowerShell",
  "terminal.integrated.profiles.windows": {
    "PowerShell": {
      "source": "PowerShell",
      "args": ["-NoLogo"],
      "icon": "terminal-powershell"
    }
  },
  "terminal.integrated.smoothScrolling": true,

  // ─── Error Lens ──────────────────────────────────────────────────────────────
  "errorLens.enabledDiagnosticLevels": ["error", "warning", "info"],
  "errorLens.followCursor": "allLines",

  // ─── GitLens ─────────────────────────────────────────────────────────────────
  "gitlens.currentLine.enabled": true,
  "gitlens.hovers.currentLine.over": "line",
  "gitlens.statusBar.enabled": false,
  "gitlens.codeLens.enabled": false,

  // ─── Todo Tree ───────────────────────────────────────────────────────────────
  "todo-tree.general.tags": ["TODO", "FIXME", "HACK", "NOTE", "BUG", "XXX"],
  "todo-tree.highlights.defaultHighlight": {
    "icon": "alert",
    "type": "text-and-comment",
    "foreground": "#e06c75",
    "background": "#1f2126",
    "opacity": 50,
    "iconColour": "#e06c75"
  },
  "todo-tree.highlights.customHighlight": {
    "NOTE": { "icon": "note", "iconColour": "#61afef", "foreground": "#61afef" },
    "TODO": { "icon": "check", "iconColour": "#98c379", "foreground": "#98c379" },
    "FIXME": { "icon": "flame", "iconColour": "#e06c75", "foreground": "#e06c75" },
    "HACK": { "icon": "tools", "iconColour": "#d19a66", "foreground": "#d19a66" }
  },

  // ─── ESLint ──────────────────────────────────────────────────────────────────
  "eslint.validate": [
    "javascript",
    "javascriptreact",
    "typescript",
    "typescriptreact"
  ],

  // ─── Rust ────────────────────────────────────────────────────────────────────
  "rust-analyzer.checkOnSave": true,
  "rust-analyzer.cargo.features": "all",
  "rust-analyzer.inlayHints.parameterHints.enable": true,
  "rust-analyzer.inlayHints.typeHints.enable": true,
  "[rust]": {
    "editor.defaultFormatter": "rust-lang.rust-analyzer"
  },

  // ─── Go ──────────────────────────────────────────────────────────────────────
  "go.toolsManagement.autoUpdate": true,
  "go.lintOnSave": "package",
  "go.formatTool": "goimports",

  // ─── Python / Ruff ───────────────────────────────────────────────────────────
  "python.defaultInterpreterPath": "python",
  "ruff.lint.enable": true,
  "ruff.organizeImports": true,
  "autoDocstring.docstringFormat": "google",

  // ─── LaTeX ───────────────────────────────────────────────────────────────────
  "latex-workshop.latex.autoBuild.run": "onFileChange",
  "latex-workshop.view.pdf.viewer": "tab",
  "latex-workshop.latex.clean.fileTypes": [
    "*.aux", "*.bbl", "*.blg", "*.idx", "*.ind",
    "*.lof", "*.lot", "*.out", "*.toc", "*.acn",
    "*.acr", "*.alg", "*.glg", "*.glo", "*.gls",
    "*.ist", "*.fls", "*.log", "*.fdb_latexmk"
  ],

  // ─── Lua ─────────────────────────────────────────────────────────────────────
  "Lua.diagnostics.globals": ["vim"],
  "Lua.workspace.library": [],
  "Lua.format.enable": true,

  // ─── YAML ────────────────────────────────────────────────────────────────────
  "yaml.format.enable": true,
  "yaml.validate": true,

  // ─── Misc ────────────────────────────────────────────────────────────────────
  "breadcrumbs.enabled": true,
  "workbench.startupEditor": "none",
  "workbench.editor.tabSizing": "shrink",
  "workbench.editor.wrapTabs": false,
  "security.workspace.trust.enabled": false,
  "telemetry.telemetryLevel": "off",
  "update.mode": "manual",
  "extensions.autoUpdate": false
}
